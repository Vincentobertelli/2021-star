ingress:
  enabled: true
  host: "enedis.testing.star.eniblock.fr"

frontend:
  replicaCount: 2
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
      - labelSelector:
          matchExpressions:
          - key: "app.kubernetes.io/component"
            operator: In
            values:
            - "frontend"
        topologyKey: "kubernetes.io/hostname"

backend:
  replicaCount: 2
  peerConnectionOrganization: enedis
  instance: dso
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
      - labelSelector:
          matchExpressions:
          - key: "app.kubernetes.io/component"
            operator: In
            values:
            - "backend"
        topologyKey: "kubernetes.io/hostname"

keycloak:
  replicas: 2
  ingress:
    host: "enedis.testing.star.eniblock.fr"
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
      - labelSelector:
          matchExpressions:
          - key: "app.kubernetes.io/component"
            operator: In
            values:
            - "keycloak"
        topologyKey: "kubernetes.io/hostname"

  db:
    primary:
      affinity: {}
      persistence:
        accessModes:
        - ReadWriteOnce
        mountPath: /bitnami/postgresql
        size: 8Gi

      standby:
        enabled: false
        primaryHost: ""
        primaryPort: ""

    readReplicas:
      affinity: {}
      replicaCount: 2
